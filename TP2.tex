% A LaTeX (non-official) template for ISAE projects reports
% Copyright (C) 2014 Damien Roque
% Version: 0.2
% Author: Damien Roque <damien.roque_AT_isae.fr>

\documentclass[a4paper,10pt,calibri,oneside,openany, twocolumn]{report}
\usepackage{geometry}
\setlength{\voffset}{-0.75in}
\setlength{\headsep}{5pt}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
%\usepackage[french]{babel} % If you write in French
\usepackage[english]{babel} % If you write in English
\usepackage{a4wide}
\usepackage{graphicx}
\graphicspath{{images/}}
\usepackage{subfig}
\usepackage{tikz}
\usetikzlibrary{shapes,arrows}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}
\pgfplotsset{plot coordinates/math parser=false}
\newlength\figureheight
\newlength\figurewidth
\pgfkeys{/pgf/number format/.cd,
set decimal separator={,\!},
1000 sep={\,},
}
\usepackage{ifthen}
\usepackage{ifpdf}
\usepackage{pdfpages}
\ifpdf
\usepackage[pdftex]{hyperref}
\else
\usepackage{hyperref}
\fi
\usepackage{color}
\hypersetup{%
colorlinks=true,
linkcolor=black,
citecolor=black,
urlcolor=black}
\usepackage{float}
\renewcommand{\baselinestretch}{1.05}
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyfoot{}
\fancyhead[C]{Recherche opérationnelle}
\fancyhead[L]{SM2}
\fancyhead[R]{TP2 - US Elections 2016}
\usepackage{colortbl}
\arrayrulecolor{black}


\usepackage{lastpage}
\renewcommand\headrulewidth{1pt}
\fancyfoot[L]{PORET, HUYNH}
\renewcommand\footrulewidth{1pt}
\fancyfoot[C]{\textbf{Page \thepage/\pageref{LastPage}}}
\fancyfoot[R]{\today}
\makeatletter
\def\@textbottom{\vskip \z@ \@plus 1pt}
\let\@texttop\relax
\makeatother

\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else%
  \hbox{}%
  \thispagestyle{empty}%
  \newpage%
  \if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother
\usepackage{makecell}
\usepackage{amsthm}
\usepackage{amssymb,amsmath,bbm}
\usepackage{array}
\usepackage{bm}
\usepackage{multirow}
\usepackage[footnote]{acronym}
\usepackage{float}
\usepackage{wasysym}
\usepackage{wrapfig}
\usepackage{url}
\usepackage{eurosym}
\usepackage{array}
\usepackage{xcolor}
\usepackage{supertabular}
\usepackage{pdflscape}
\usepackage{calrsfs}
\usepackage{longtable, booktabs}
\usepackage{minted}
\newcommand*{\SET}[1]  {\ensuremath{\mathbf{#1}}}
\newcommand*{\VEC}[1]  {\ensuremath{\boldsymbol{#1}}}
\newcommand*{\FAM}[1]  {\ensuremath{\boldsymbol{#1}}}
\newcommand*{\MAT}[1]  {\ensuremath{\boldsymbol{#1}}}
\newcommand*{\OP}[1]  {\ensuremath{\mathrm{#1}}}
\newcommand*{\NORM}[1]  {\ensuremath{\left\|#1\right\|}}
\newcommand*{\DPR}[2]  {\ensuremath{\left \langle #1,#2 \right \rangle}}
\newcommand*{\calbf}[1]  {\ensuremath{\boldsymbol{\mathcal{#1}}}}
\newcommand*{\shift}[1]  {\ensuremath{\boldsymbol{#1}}}
\addto\extrasenglish{%
  \renewcommand{\chapterautorefname}{Chapter}%
}
\newcommand{\eqdef}{\stackrel{\mathrm{def}}{=}}
\newcommand{\argmax}{\operatornamewithlimits{argmax}}
\newcommand{\argmin}{\operatornamewithlimits{argmin}}
\newcommand{\ud}{\, \mathrm{d}}
\newcommand{\vect}{\text{Vect}}
\newcommand{\sinc}{\ensuremath{\mathrm{sinc}}}
\newcommand{\esp}{\ensuremath{\mathbb{E}}}
\newcommand{\hilbert}{\ensuremath{\mathcal{H}}}
\newcommand{\fourier}{\ensuremath{\mathcal{F}}}
\newcommand{\sgn}{\text{sgn}}
\newcommand{\intTT}{\int_{-T}^{T}}
\newcommand{\intT}{\int_{-\frac{T}{2}}^{\frac{T}{2}}}
\newcommand{\intinf}{\int_{-\infty}^{+\infty}}
\newcommand{\Sh}{\ensuremath{\boldsymbol{S}}}
\newcommand{\C}{\SET{C}}
\newcommand{\R}{\SET{R}}
\newcommand{\Z}{\SET{Z}}
\newcommand{\N}{\SET{N}}
\newcommand{\K}{\SET{K}}
\newcommand{\reel}{\mathcal{R}}
\newcommand{\imag}{\mathcal{I}}
\newcommand{\cmnr}{c_{m,n}^\reel}
\newcommand{\cmni}{c_{m,n}^\imag}
\newcommand{\cnr}{c_{n}^\reel}
\newcommand{\cni}{c_{n}^\imag}
\newcommand{\tproto}{g}
\newcommand{\rproto}{\check{g}}
\newcommand{\LR}{\mathcal{L}_2(\SET{R})}
\newcommand{\LZ}{\ell_2(\SET{Z})}
\newcommand{\LZI}[1]{\ell_2(\SET{#1})}
\newcommand{\LZZ}{\ell_2(\SET{Z}^2)}
\newcommand{\diag}{\operatorname{diag}}
\newcommand{\noise}{z}
\newcommand{\Noise}{Z}
\newcommand{\filtnoise}{\zeta}
\newcommand{\tp}{g}
\newcommand{\rp}{\check{g}}
\newcommand{\TP}{G}
\newcommand{\RP}{\check{G}}
\newcommand{\dmin}{d_{\mathrm{min}}}
\newcommand{\Dmin}{D_{\mathrm{min}}}
\newcommand{\Image}{\ensuremath{\text{Im}}}
\newcommand{\Span}{\ensuremath{\text{Span}}}

\newcommand{\anfr}[1]{{\bfseries\underline{#1}}}

\newtheoremstyle{break}
  {11pt}{11pt}%
  {\itshape}{}%
  {\bfseries}{}%
  {\newline}{}%
\theoremstyle{break}

%\theoremstyle{definition}
\newtheorem{definition}{Définition}[chapter]

%\theoremstyle{definition}
\newtheorem{theoreme}{Théorème}[chapter]

%\theoremstyle{remark}
\newtheorem{remarque}{Remarque}[chapter]

%\theoremstyle{plain}
\newtheorem{propriete}{Propriété}[chapter]
\newtheorem{exemple}{Exemple}[chapter]



%\sloppy
\usepackage{multicol}
\usepackage{wrapfig}
\usepackage{enumitem}
\usepackage{pifont}
\usepackage{makeidx}
\usepackage{setspace}
\usepackage{xr}
\usepackage{zref}
\usepackage{zref-xr}
\usepackage{xr-hyper}
\setlength{\columnsep}{1.5cm}
\setlength{\columnseprule}{0.2pt}
\makeindex
\usepackage[xindy]{glossaries}
\usepackage{adjustbox}
\makeglossaries
\usepackage{lipsum}
%\loadglsentries{glossaire.tex}




\begin{document}


	\begin{center}
		\bfseries TP 2 - Members in the US\\ Electoral College
	\end{center}
\section*{General information}
Population data is from 2016. We chose to use the eligible population as it is more representative of the 2016 Elections.
\section*{Linear Programming problem}
\section*{Results and optimization}
\qquad With our problem as stated before, we have a rather disturbing problem as we can see that some states have fairly similar populations but sometimes have double the members in the electoral college. This is particularly obvious when we took at the lower end of the population spectrum where there isn't a lot of population but we might see for example (insert problem with close population but 1 vs 2 members). This is due to a matrix conditioning problem when working on the LP problem as the orders of magnitude vary greatly between $10^{-6}\ (u,\ v)$, $10^0\ (\alpha_i)$ and $10^6\ (x_i)$.\\

Thus, our problem has been slightly modified to :
\begin{equation}
	\begin{cases}
	min\ u-v& \\
	v - \frac{\alpha_i}{x_i}\times 10^6&\leq 0\\
	\frac{\alpha_i}{x_i}\times 10^6 - u &\leq 0\\
	\sum\limits_i \alpha_i &= N
	\end{cases}
\end{equation}
By doing this, we will do some kind of pre-conditioning which will make our results better. With this change, the number of members per state is given by (using the state ANSI abreviations):
\begin{table}[H]
	\begin{tabular}{|c|c|c|}
	\hline
	\cellcolor{gray!30} State & \cellcolor{gray!30} Population&\cellcolor{gray!30}\shortstack{Members in\\ Electoral College}\\
	\hline
	AL & &9\\
	\hline
	AK & &1\\
	\hline
	AZ & &12\\
	\hline
	AR & &5\\
	\hline
	CA & &49\\
	\hline
	CO & &10\\
	\hline
	CT & &6\\
	\hline
	DE & &1\\
	\hline
	DC & &1\\
	\hline
	FL & &37\\
	\hline
	GA & &17\\
	\hline
	HI & &2\\
	\hline
	ID & &2\\
	\hline
	IL & &22\\
	\hline
	IN & &12\\
	\hline
	IA & &5\\
	\hline
	KS & &5\\
	\hline
	KY & &8\\
	\hline
	LA & &8\\
	\hline
	ME & &2\\
	\hline
	MD & &10\\
	\hline
	MA & &12\\
	\hline
	MI & &18\\
	\hline
	MN & &10\\
	\hline
	MS & &5\\
	\hline
	MO & &11\\
	\hline
	MT & &2\\
	\hline
	NE & &3\\
	\hline
	NV & &4\\
	\hline
	NH & &2\\
	\hline
	NJ & &15\\
	\hline
	NM & &3\\
	\hline
	NY & &34\\
	\hline
	NC & &18\\
	\hline
	ND & &1\\
	\hline
	OH & &22\\
	\hline
	OK & &7\\
	\hline
	OR & &7\\
	\hline
	PA & &24\\
	\hline
	RI & &2\\
	\hline
	SC & &9\\
	\hline
	SD & &1\\
	\hline
	TN & &12\\
	\hline
	TX & &44\\
	\hline
	UT & &5\\
	\hline
	VT & &1\\
	\hline
	VA & &15\\
	\hline
	WA & &13\\
	\hline
	WV & &3\\
	\hline
	WI & &10\\
	\hline
	WY & &1\\
	\hline
	\end{tabular}
\end{table}


\section*{US Maps}

\begin{figure}[H]
	\centering
	\includegraphics[width=\linewidth]{mapCurrentEligible}
	\caption{Current distribution : $\frac{\alpha_{real,eligible_i}}{x_i}$}
\end{figure}
\begin{figure}[H]
	\centering
	\includegraphics[width=\linewidth]{mapEligibleBase}
	\caption{Distribution without conditioning - Eligible voters only}
\end{figure}
\begin{figure}[H]
	\centering
	\includegraphics[width=\linewidth]{mapEligibleImproved}
	\caption{Distribution with conditioning - Eligible voters only}
\end{figure}

\begin{figure}[H]
	\vspace*{1.8cm}
	\centering
	\includegraphics[width=\linewidth]{mapCurrentTotal}
	\caption{Current distribution : $\frac{\alpha_{real,total_i}}{x_i}$}
\end{figure}
\begin{figure}[H]
	\vspace*{0.3cm}

	\centering
	\includegraphics[width=\linewidth]{mapTotalBase}
	\caption{Distribution without conditioning - Whole population}
\end{figure}
\begin{figure}[H]
	\vspace*{0.5cm}
	\centering
	\includegraphics[width=\linewidth]{mapTotalImproved}
	\caption{Distribution with conditioning - Whole population}
\end{figure}


\end{document}